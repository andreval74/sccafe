<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Módulo 3: Resumo e Criação - SCCAFE</title>
  
  <!-- Favicons -->
  <link href="../imgs/sccafe-32x32.png" rel="icon" sizes="32x32" type="image/png">
  <link href="../imgs/sccafe-16x16.png" rel="icon" sizes="16x16" type="image/png">
  <link href="../imgs/sccafe-192x192.png" rel="apple-touch-icon" sizes="192x192">
  
  <!-- Bootstrap CSS -->
  <link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="../assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="../assets/css/main.css" rel="stylesheet">
  
  <!-- Custom Token CSS -->
  <link href="../css/token.css" rel="stylesheet">
  
  <style>
    /* Estilos específicos do módulo */
    .module-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 20px;
    }
    
    .module-navigation {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
    }
    
    .step-indicator {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
    }
    
    .step-indicator .step {
      flex: 1;
      text-align: center;
      padding: 10px;
      border-radius: 5px;
      margin: 0 5px;
    }
    
    .step-indicator .step.completed {
      background: #28a745;
      color: white;
    }
    
    .step-indicator .step.active {
      background: #007bff;
      color: white;
    }
    
    .step-indicator .step.pending {
      background: #e9ecef;
      color: #6c757d;
    }
  </style>
</head>
<body>
  <!-- 
    =================================================================
    MÓDULO 3: RESUMO E CRIAÇÃO DO TOKEN
    =================================================================
    
    FUNÇÃO: Este módulo é responsável por:
    - Exibir resumo dos dados coletados nos módulos anteriores
    - Executar a sequência: Gerar → Compilar → Deploy
    - Fornecer feedback visual do progresso
    - Redirecionar para o módulo de verificação após sucesso
    
    INPUTS: 
    - Dados básicos do token (Módulo 1)
    - Configurações de personalização (Módulo 2)
    
    OUTPUTS:
    - Contrato deployado na blockchain
    - Endereço do contrato
    - Dados de compilação salvos
    
    PRÓXIMO MÓDULO: 04-verificacao.html
    =================================================================
  -->
  
  <!-- Header Include -->
  <div id="header-include" class="fixed-top"></div>
  
  <!-- Main Content -->
  <main class="main">
    <div class="token-creator-container">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-xl-10 col-lg-11">
            
            <!-- Header do Módulo -->
            <div class="module-header">
              <div class="d-flex align-items-center justify-content-between">
                <div>
                  <h1><i class="bi bi-clipboard-check me-2"></i>Módulo 3: Resumo e Criação</h1>
                  <p class="mb-0">Revise os dados e execute a criação do seu token</p>
                </div>
                <div class="text-end">
                  <small>Módulo 3 de 5</small>
                </div>
              </div>
            </div>
            
            <!-- Navegação entre Módulos -->
            <div class="module-navigation">
              <div class="step-indicator">
                <div class="step completed">
                  <i class="bi bi-check-circle"></i><br>
                  <small>Dados Básicos</small>
                </div>
                <div class="step completed">
                  <i class="bi bi-check-circle"></i><br>
                  <small>Personalização</small>
                </div>
                <div class="step active">
                  <i class="bi bi-gear"></i><br>
                  <small>Criação</small>
                </div>
                <div class="step pending">
                  <i class="bi bi-shield-check"></i><br>
                  <small>Verificação</small>
                </div>
                <div class="step pending">
                  <i class="bi bi-check2-all"></i><br>
                  <small>Finalização</small>
                </div>
              </div>
              
              <div class="d-flex justify-content-between">
                <button onclick="goToPreviousModule()" class="btn btn-outline-secondary">
                  <i class="bi bi-arrow-left me-1"></i>Voltar: Personalização
                </button>
                <button onclick="goToNextModule()" class="btn btn-outline-primary" id="btn-next-module" disabled>
                  Próximo: Verificação <i class="bi bi-arrow-right ms-1"></i>
                </button>
              </div>
            </div>
            
            <!-- Conteúdo Principal do Módulo -->
            <div class="creator-card">
              
              <!-- Status de Carregamento dos Dados -->
              <div id="loading-section" class="text-center mb-4">
                <div class="spinner-border text-primary" role="status">
                  <span class="visually-hidden">Carregando...</span>
                </div>
                <p class="mt-2">Carregando dados dos módulos anteriores...</p>
              </div>
              
              <!-- Resumo dos Dados (carregado dinamicamente) -->
              <div id="data-summary-section" style="display: none;">
                <div class="card mb-4">
                  <div class="card-header bg-info text-white">
                    <h5 class="mb-0">
                      <i class="bi bi-info-circle me-2"></i>Resumo dos Dados Coletados
                    </h5>
                  </div>
                  <div class="card-body" id="summary-data">
                    <!-- Dados serão preenchidos pelo JavaScript -->
                  </div>
                </div>
              </div>
              
              <!-- Seção de Criação do Token -->
              <div id="creation-section" style="display: none;">
                <div class="card mb-4">
                  <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">
                      <i class="bi bi-rocket-takeoff me-2"></i>Criação do Token
                    </h5>
                  </div>
                  <div class="card-body">
                    <p class="mb-3">Execute a criação do seu token seguindo os 3 passos abaixo:</p>
                    
                    <!-- Template resumo-template.html será carregado aqui -->
                    <div id="token-summary" class="row g-3">
                      <!-- Conteúdo preenchido dinamicamente pelo module-resumo-criacao.js -->
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- Status Final -->
              <div id="completion-section" style="display: none;">
                <div class="alert alert-success">
                  <h4><i class="bi bi-check-circle-fill me-2"></i>Token Criado com Sucesso!</h4>
                  <p class="mb-2">Seu token foi deployado na blockchain. Agora vamos para a verificação.</p>
                  <div id="deployed-info">
                    <!-- Informações do deploy serão preenchidas aqui -->
                  </div>
                </div>
              </div>
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <div id="footer-include"></div>

  <!-- Bootstrap JS -->
  <script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  
  <!-- AOS JS -->
  <script src="../assets/vendor/aos/aos.js"></script>
  
  <!-- Custom JS -->
  <script src="../assets/js/include.js"></script>
  <script src="../assets/js/main.js"></script>
  
  <!-- Ethers.js -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  
  <!-- Módulos Compartilhados -->
  <script src="../js/shared/storage-manager.js"></script>
  <script src="../js/shared/metamask-connector.js"></script>
  <script src="../js/shared/network-detector.js"></script>
  <script src="../js/shared/common-utils.js"></script>
  
  <!-- Scripts do Sistema Original (reutilizados) -->
  <script src="../js/api-key-manager.js"></script>
  <script src="../js/contract-detector.js"></script>
  <script src="../js/etherscan-v2-verification.js"></script>
  <script src="../js/verification-simple.js"></script>
  <script src="../js/add-contratos-verified.js"></script>
  <script src="../js/add-deploy.js"></script>
  <script src="../js/add-metamask.js"></script>
  <script src="../js/add-salt.js"></script>
  <script src="../js/network-manager.js"></script>
  <script src="../js/template-loader.js"></script>
  
  <!-- Script Principal do Módulo -->
  <script src="../js/modules/module-resumo-criacao.js"></script>
  
</body>
</html>
